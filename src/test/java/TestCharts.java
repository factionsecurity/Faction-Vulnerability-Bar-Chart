import static org.junit.jupiter.api.Assertions.*;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;

import org.junit.jupiter.api.Test;

import com.faction.VulnerabilityBarChart;
import com.faction.elements.Vulnerability;

class TestCharts {

	@Test
	void test() {
		VulnerabilityBarChart chart = new VulnerabilityBarChart();
		String text = "<html><body>${faction-bar-chart}</body>";
		List<Vulnerability> vulns = new ArrayList<>();
		
		Vulnerability v1 = new Vulnerability();
		v1.setOverall(5l);
		Vulnerability v2 = new Vulnerability();
		v2.setOverall(5l);
		Vulnerability v3 = new Vulnerability();
		v3.setOverall(5l);
		
		Vulnerability v4 = new Vulnerability();
		v4.setOverall(4l);
		Vulnerability v5 = new Vulnerability();
		v5.setOverall(3l);
		Vulnerability v6 = new Vulnerability();
		v6.setOverall(2l);

		Vulnerability v7 = new Vulnerability();
		v7.setOverall(2l);
		
		vulns.add(v1);
		vulns.add(v2);
		vulns.add(v3);
		vulns.add(v4);
		vulns.add(v5);
		vulns.add(v6);
		vulns.add(v7);
		
		HashMap<String,String> configs = new HashMap();
		configs.put("Severity Colors", "Critical:dd4b39,High:f39c12,Medium:00c0ef,Low:39cccc,Recommended:00a65a,Informational:95a5a6");
		configs.put("Default Color", "95a5a6");
		configs.put("Width", "600");
		configs.put("Height", "500");
		chart.setConfigs(configs);
		
		
		String updatedText = chart.reportCreate(null, vulns, text);
		System.out.println(updatedText);
		assertNotEquals(text, updatedText);
	}

}
